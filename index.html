<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAliWW4PXhdXzoLJsqcen0i8Y9p65J1T8I",
    authDomain: "agrico-hub-attendance1.firebaseapp.com",
    projectId: "agrico-hub-attendance1",
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, (user) => {
    if (user) {
      // Replace buttons with welcome message
      document.body.innerHTML = `
        <div style="font-family: Arial; text-align: center; padding: 50px;">
          <h1>Welcome, ${user.email}!</h1>
          <p>You're signed in to AgriCo Hub Attendance.</p>
          <a href="#" onclick="signOut()" style="color: #d32f2f;">Sign out</a>
        </div>
      `;
      
      // Add sign-out function
      window.signOut = async () => {
        const { signOut } = await import("https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js");
        await signOut(auth);
        window.location.reload();
      };
    }
  });
</script>
